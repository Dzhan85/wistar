{% extends "base.html" %}
{% load staticfiles %}
{% block title %}Wistar -  New Local Image{% endblock %}
{% block scripts %}
<script type="text/javascript" src="{% static 'js/jquery-1.8.1.min.js' %}"></script>
<script type="text/javascript">
    function validateForm() {
        var d = $('#id_description');
        var n = $('#id_name');
        var f = $('#id_filePath');
        if (n.val() == "") {
            alert("Please enter a name!");
            n.focus();
            return false;
        }
        if (d.val() == "") {
            alert("Please enter a description!");
            d.focus();
            return false;
        }
        if (f.val() == "") {
            alert("Please choose a valid image!");
            f.focus();
            return false;
        }
    }
    </script>
{% endblock %}
{% block content %}
<div class="centered_box">
    <h2>New Local Image</h2>
    This allows you to upload an image to the wistar server via rsync or scp to the
    /opt/wistar/user_instances directory.
    <form method="post" enctype="multipart/form-data" onsubmit="javascript: return validateForm();"
          action="/images/createLocal/">
        {{ image_form }}
        {% csrf_token %}
        <input type="submit"/>
    </form>
</div>
{% endblock %}
